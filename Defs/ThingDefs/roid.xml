<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <ThingDef ParentName="MakeableDrugBase">
    <defName>SM_partRoid</defName>
    <label>Roid</label>
    <description>A small vial of Roid. A concentrated super soldier serum, it has fallen from favor as it can cause uncontrollable rage. Still popular on the rim.</description>
    <graphicData>
      <texPath>Submunition/Item/SM_partRoid</texPath>
      <graphicClass>Graphic_StackCount</graphicClass>
    </graphicData>
    <socialPropernessMatters>false</socialPropernessMatters>
    <rotatable>false</rotatable>
    <statBases>
      <WorkToMake>1000</WorkToMake>
      <MarketValue>22</MarketValue>
      <Mass>0.02</Mass>
    </statBases>
    <techLevel>Industrial</techLevel>
    <ingestible>
      <drugCategory>Hard</drugCategory>
      <foodType>Processed, Fluid</foodType>
      <baseIngestTicks>90</baseIngestTicks>
      <ingestSound>Ingest_Inject</ingestSound>
      <ingestHoldOffsetStanding>
        <northDefault>
          <offset>(0.18,0,0)</offset>
        </northDefault>
      </ingestHoldOffsetStanding>
      <ingestCommandString>Inject {0}</ingestCommandString>
      <ingestReportString>Injecting {0}.</ingestReportString>
      <useEatingSpeedStat>false</useEatingSpeedStat>
      <chairSearchRadius>0</chairSearchRadius>
      <outcomeDoers>
        <li Class="IngestionOutcomeDoer_GiveHediff">
          <hediffDef>SM_RagingHigh</hediffDef>
          <severity>0.25</severity>
        </li>
        <li Class="IngestionOutcomeDoer_GiveHediff">
          <hediffDef>RoidTolerance</hediffDef>
          <severity>0.05</severity>
					<divideByBodySize>true</divideByBodySize>
				</li>
      </outcomeDoers>
    </ingestible>
    <costList>
      <GoJuice>2</GoJuice>
      <Yayo>1</Yayo>
      <WakeUp>1</WakeUp>
    </costList>
    <recipeMaker>
      <recipeUsers>
        <li>DrugLab</li>
      </recipeUsers>
      <researchPrerequisite>GoJuiceProduction</researchPrerequisite>
      <skillRequirements>
				<Crafting>6</Crafting>
        <Intellectual>6</Intellectual>
      </skillRequirements>
    </recipeMaker>
    <comps>
      <li Class="CompProperties_Drug">
        <chemical>Roid</chemical>
        <addictiveness>0.1</addictiveness>
        <minToleranceToAddict>0.01</minToleranceToAddict>
        <existingAddictionSeverityOffset>0.20</existingAddictionSeverityOffset>
        <needLevelOffset>.5</needLevelOffset>
        <listOrder>1000</listOrder>
        <isCombatEnhancingDrug>true</isCombatEnhancingDrug>
        <overdoseSeverityOffset>
          <min>0.18</min>
          <max>0.35</max>
        </overdoseSeverityOffset>
				<largeOverdoseChance>0.01</largeOverdoseChance>
      </li>
    </comps>
  </ThingDef>
  
  <DamageDef>
    <defName>SM_Roid</defName>
    <label>Roid dart</label>
    <workerClass>DamageWorker_AddInjury</workerClass>
    <externalViolence>true</externalViolence>
    <deathMessage>{0} has been shot to death.</deathMessage>
    <hediff>SM_BerserkDart</hediff>
    <harmAllLayersUntilOutside>false</harmAllLayersUntilOutside>
    <impactSoundType>Bullet</impactSoundType>
    <armorCategory>Sharp</armorCategory>
    <overkillPctToDestroyPart>0~0.7</overkillPctToDestroyPart>
    <buildingDamageFactor>0</buildingDamageFactor>
    <isRanged>true</isRanged>
    <makesAnimalsFlee>true</makesAnimalsFlee>
  </DamageDef>
  
  <ThingDef ParentName="MoteBase" Name="SM_Mote_Gas_Roid">
    <defName>SM_Mote_Gas_Roid</defName>
    <graphicData>
      <texPath>Things/Gas/Puff</texPath>
      <shaderType>MoteGlow</shaderType>
      <drawSize>2</drawSize>
      <color>(1,0,0,0.25)</color>
    </graphicData>
    <altitudeLayer>MoteOverhead</altitudeLayer>
    <mote>
      <fadeInTime>0.75</fadeInTime>
      <solidTime>0.75</solidTime>
      <fadeOutTime>0.75</fadeOutTime>
    </mote>
  </ThingDef>
  
  <ThingDef ParentName="BaseGas">
    <thingClass>Submunition.Gas_Toxic</thingClass>
    <defName>SM_Gas_Roid</defName>
    <label>rage gas</label>
    <graphicData>
      <texPath>Things/Gas/Puff</texPath>
      <drawSize>1</drawSize>
      <color>(1,0,0,0.25)</color>
    </graphicData>
    <gas>
      <expireSeconds>
        <min>60</min>
        <max>90</max>
      </expireSeconds>
      <blockTurretTracking>false</blockTurretTracking>
      <accuracyPenalty>0</accuracyPenalty>
      <rotationSpeed>20</rotationSpeed>
    </gas>
    <modExtensions>
      <li Class="Submunition.DefToxicGasExtension">
        <toxicGasHediffChance>1</toxicGasHediffChance>
        <toxicGasHediffStrength>0.05</toxicGasHediffStrength>
        <toxicGasHediffToAdd>SM_Raging</toxicGasHediffToAdd>
        <toxicGasHediffResist>ToxicSensitivity</toxicGasHediffResist>
        <toxicGasHediffBodyScaling>true</toxicGasHediffBodyScaling>
        <toxicGasWholeBody>true</toxicGasWholeBody>
        <toxicGasMote>SM_Mote_Gas_Roid</toxicGasMote>
        <toxicGasMoteRate>100</toxicGasMoteRate>
      </li>
    </modExtensions>
  </ThingDef>
  
  <ThingDef ParentName="MakeableShellBase">
    <defName>SM_Shell_Roid_Gas</defName>
    <label>Rage shell</label>
    <description>A mortar shell designed to release a cloud of aerosolized rage inducing drugs on impact</description>
    <graphicData>
      <texPath>Submunition/Item/SM_Shell_Roid_Gas</texPath>
      <graphicClass>Graphic_StackCount</graphicClass>
    </graphicData>
    <comps>
      <li Class="CompProperties_Explosive">
        <explosiveRadius>4</explosiveRadius>
        <explosiveDamageType>Smoke</explosiveDamageType>
        <postExplosionSpawnThingDef>SM_Gas_Roid</postExplosionSpawnThingDef>
        <postExplosionSpawnChance>1.0</postExplosionSpawnChance>
        <explosiveExpandPerStackcount>4</explosiveExpandPerStackcount>
        <startWickHitPointsPercent>0.7</startWickHitPointsPercent>
        <wickTicks>
          <min>5</min>
          <max>10</max>
        </wickTicks>
      </li>
    </comps>
    <projectileWhenLoaded>SM_Bullet_Shell_Roid_Gas</projectileWhenLoaded>
    <costList>
      <Steel>20</Steel>
      <Chemfuel>20</Chemfuel>
      <SM_partRoid>10</SM_partRoid>
    </costList>
    <recipeMaker>
      <workAmount>4000</workAmount>
      <researchPrerequisite>Submunitions</researchPrerequisite>
      <skillRequirements>
        <Crafting>6</Crafting>
        <Intellectual>6</Intellectual>
      </skillRequirements>
    </recipeMaker>
    <statBases>
      <MaxHitPoints>60</MaxHitPoints>
      <MarketValue>304</MarketValue>
      <Mass>10</Mass>
    </statBases>
  </ThingDef>
  <ThingDef ParentName="BaseBullet">
    <defName>SM_Bullet_Shell_Roid_Gas</defName>
    <label>Rage shell</label>
    <graphicData>
      <texPath>Submunition/Item/Bullet_Shell_Roid_Gas</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <shaderType>TransparentPostLight</shaderType>
    </graphicData>
    <thingClass>Projectile_Explosive</thingClass>
    <projectile>
      <damageDef>SM_Danger_Smoke</damageDef>
      <damageAmountBase>0</damageAmountBase>
      <speed>41</speed>
      <explosionRadius>10</explosionRadius>
      <postExplosionSpawnThingDef>SM_Gas_Roid</postExplosionSpawnThingDef>
      <postExplosionSpawnChance>1.0</postExplosionSpawnChance>
      <flyOverhead>true</flyOverhead>
      <soundHitThickRoof>Artillery_HitThickRoof</soundHitThickRoof>
      <soundExplode>Explosion_Smoke</soundExplode>
      <soundImpactAnticipate>MortarRound_PreImpact</soundImpactAnticipate>
      <soundAmbient>MortarRound_Ambient</soundAmbient>
      <ai_IsIncendiary>true</ai_IsIncendiary>
    </projectile>
  </ThingDef>

	<ThingDef ParentName="BaseMakeableGrenade">
		<defName>SM_Weapon_Grenade_Roid_Gas</defName>
		<label>Rage grenades</label>
		<description>Rage grenades. They can be thrown a short distance, where they'll explode, dispersing a cloud of rage inducing drugs.</description>
    <tickerType>Normal</tickerType>
		<graphicData>
			<texPath>Submunition/Item/SM_Weapon_Grenade_Roid_Gas</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<soundInteract>Interact_Grenade</soundInteract>
		<techLevel>Industrial</techLevel>
		<statBases>
			<Mass>1</Mass>
			<RangedWeapon_Cooldown>2.66</RangedWeapon_Cooldown>
      <WorkToMake>40000</WorkToMake>
    </statBases>
    <costList>
      <Steel>20</Steel>
      <Chemfuel>20</Chemfuel>
      <SM_partRoid>80</SM_partRoid>
    </costList>
    <recipeMaker>
      <researchPrerequisite>Submunitions</researchPrerequisite>
      <skillRequirements>
        <Crafting>6</Crafting>
        <Intellectual>6</Intellectual>
      </skillRequirements>
    </recipeMaker>
		<thingCategories>
			<li>Grenades</li>
		</thingCategories>
		<verbs>
			<li>
				<label>throw Roid grenade</label>
				<verbClass>Verb_LaunchProjectile</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<range>12.9</range>
				<forcedMissRadius>1.9</forcedMissRadius>
				<warmupTime>1.5</warmupTime>
				<noiseRadius>4</noiseRadius>
				<ai_IsBuildingDestroyer>false</ai_IsBuildingDestroyer>
				<soundCast>ThrowGrenade</soundCast>
				<targetParams>
					<canTargetLocations>true</canTargetLocations>
				</targetParams>
				<defaultProjectile>SM_Proj_Grenade_Roid_Gas</defaultProjectile>
        <rangedFireRulepack>Combat_RangedFire_Thrown</rangedFireRulepack>
			</li>
		</verbs>
    <comps>
      <li Class="CompProperties_Explosive">
        <explosiveRadius>4</explosiveRadius>
        <explosiveDamageType>Smoke</explosiveDamageType>
        <requiredDamageTypeToExplode>Flame</requiredDamageTypeToExplode>
        <postExplosionSpawnThingDef>SM_Gas_Roid</postExplosionSpawnThingDef>
        <postExplosionSpawnChance>1.0</postExplosionSpawnChance>
      </li>
    </comps>
	</ThingDef>
  <ThingDef ParentName="BaseGrenadeProjectile">
		<defName>SM_Proj_Grenade_Roid_Gas</defName>
		<label>Roid grenade</label>
		<thingClass>Projectile_Explosive</thingClass>
		<graphicData>
			<texPath>Submunition/Item/Proj_Grenade_Roid_Gas</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<projectile>
      <!-- Use default damage from explosion def -->
			<explosionDelay>10</explosionDelay>
      <damageDef>Smoke</damageDef>
      <damageAmountBase>0</damageAmountBase>
      <explosionRadius>4</explosionRadius>
      <postExplosionSpawnThingDef>SM_Gas_Roid</postExplosionSpawnThingDef>
      <postExplosionSpawnChance>1.0</postExplosionSpawnChance>
		</projectile>
	</ThingDef>
  
  
  <ThingDef ParentName="BaseHumanMakeableGun">
    <defName>SM_Gun_RoidRifle</defName>
    <label>Rage rifle</label>
    <description>An ancient pattern bolt-action rifle. Retro-fitted to fire Rage Darts.</description>
    <graphicData>
      <texPath>Submunition/Item/SM_Gun_RoidRifle</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>Interact_Rifle</soundInteract>
    <statBases>
      <WorkToMake>2000</WorkToMake>
      <Mass>3.5</Mass>
      <AccuracyTouch>0.65</AccuracyTouch>
      <AccuracyShort>0.75</AccuracyShort>
      <AccuracyMedium>0.75</AccuracyMedium>
      <AccuracyLong>0.60</AccuracyLong>
      <RangedWeapon_Cooldown>1.5</RangedWeapon_Cooldown>
    </statBases>
    <costList>
      <Gun_BoltActionRifle>1</Gun_BoltActionRifle>
      <Steel>10</Steel>
      <SM_partRoid>30</SM_partRoid>
    </costList>
    <recipeMaker>
      <researchPrerequisite>Submunitions</researchPrerequisite>
      <skillRequirements>
        <Crafting>6</Crafting>
        <Intellectual>6</Intellectual>
      </skillRequirements>
    </recipeMaker>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>SM_Bullet_RoidRifle</defaultProjectile>
        <warmupTime>1.7</warmupTime>
        <range>30.9</range>
        <soundCast>Shot_BoltActionRifle</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
      </li>
    </verbs>
    <tools>
      <li>
        <label>stock</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>9</power>
        <cooldownTime>2</cooldownTime>
      </li>
      <li>
        <label>barrel</label>
        <capacities>
          <li>Blunt</li>
          <li>Poke</li>
        </capacities>
        <power>9</power>
        <cooldownTime>2</cooldownTime>
      </li>
    </tools>
  </ThingDef>
  <ThingDef ParentName="BaseBullet">
    <defName>SM_Bullet_RoidRifle</defName>
    <label>bolt-action rifle bullet</label>
    <projectile>
      <damageDef>SM_Roid</damageDef>
      <damageAmountBase>3</damageAmountBase>
      <stoppingPower>0</stoppingPower>
      <armorPenetrationBase>0</armorPenetrationBase>
      <speed>70</speed>
    </projectile>
    <graphicData>
      <texPath>Things/Projectile/Bullet_big</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
  </ThingDef>

  <ThingDef ParentName="BaseHumanMakeableGun">
    <defName>SM_Gun_RoidRevolver</defName>
    <label>Rage revolver</label>
    <description>An ancient pattern double-action revolver. Retro-fitted to fire Rage Darts.</description>
    <graphicData>
      <texPath>Submunition/Item/SM_Gun_RoidRevolver</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>Interact_Revolver</soundInteract>
    <statBases>
      <WorkToMake>2000</WorkToMake>
      <Mass>1.4</Mass>
      <AccuracyTouch>0.80</AccuracyTouch>
      <AccuracyShort>0.65</AccuracyShort>
      <AccuracyMedium>0.25</AccuracyMedium>
      <AccuracyLong>0.15</AccuracyLong>
      <RangedWeapon_Cooldown>1.6</RangedWeapon_Cooldown>
    </statBases>
    <weaponTags>
      <li>SimpleGun</li>
      <li>Revolver</li>
    </weaponTags>
    <costList>
      <Gun_Revolver>1</Gun_Revolver>
      <Steel>5</Steel>
      <SM_partRoid>10</SM_partRoid>
    </costList>
    <recipeMaker>
      <researchPrerequisite>Submunitions</researchPrerequisite>
      <skillRequirements>
        <Crafting>6</Crafting>
        <Intellectual>6</Intellectual>
      </skillRequirements>
    </recipeMaker>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>SM_Bullet_RoidRevolver</defaultProjectile>
        <warmupTime>0.3</warmupTime>
        <range>20.9</range>
        <soundCast>Shot_Revolver</soundCast>
        <soundCastTail>GunTail_Light</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
      </li>
    </verbs>
    <tools>
      <li>
        <label>grip</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>9</power>
        <cooldownTime>2</cooldownTime>
      </li>
      <li>
        <label>barrel</label>
        <capacities>
          <li>Blunt</li>
          <li>Poke</li>
        </capacities>
        <power>9</power>
        <cooldownTime>2</cooldownTime>
      </li>
    </tools>
  </ThingDef>
  <ThingDef ParentName="BaseBullet">
    <defName>SM_Bullet_RoidRevolver</defName>
    <label>Roid revolver bullet</label>
    <graphicData>
      <texPath>Things/Projectile/Bullet_Small</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <projectile>
      <damageDef>SM_Roid</damageDef>
      <damageAmountBase>1</damageAmountBase>
      <stoppingPower>0</stoppingPower>
      <armorPenetrationBase>0</armorPenetrationBase>
      <speed>55</speed>
    </projectile>
  </ThingDef>
  
  <ThingDef ParentName="TrapIEDBase">
    <defName>SM_TrapIED_Roid_Gas</defName>
    <label>Rage IED trap</label>
    <description>A pair of Rage shells connected to a touch-activated trigger. Since it is hidden in the surrounding terrain, it cannot be placed adjacent to other traps. Animals can sense these when calm.</description>
    <graphicData>
      <texPath>Submunition/Item/IED_Roid</texPath>
    </graphicData>
    <costList>
      <SM_Shell_Tear_Gas>2</SM_Shell_Tear_Gas>
    </costList>
    <comps>
      <li Class="CompProperties_Explosive">
        <explosiveDamageType>Smoke</explosiveDamageType>
        <damageAmountBase>0</damageAmountBase>
        <explosiveRadius>20</explosiveRadius>
        <postExplosionSpawnThingDef>SM_Gas_Roid</postExplosionSpawnThingDef>
        <postExplosionSpawnChance>1.0</postExplosionSpawnChance>
        <startWickHitPointsPercent>0.2</startWickHitPointsPercent>
        <wickTicks>
          <min>15</min>
          <max>15</max>
        </wickTicks>
      </li>
    </comps>
    <specialDisplayRadius>20</specialDisplayRadius>
  </ThingDef>  
  
</Defs>