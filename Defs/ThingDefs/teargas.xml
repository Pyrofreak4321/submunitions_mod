<?xml version="1.0" encoding="utf-8" ?>
<Defs>
  <ThingDef ParentName="ResourceBase">
    <defName>SM_partTearGas</defName>
    <label>tear gas pellet</label>
    <description>A small pellet that can be burned to make tear gas.</description>
    <graphicData>
      <texPath>Submunition/Item/SM_partTear</texPath>
      <graphicClass>Graphic_StackCount</graphicClass>
    </graphicData>
    <tickerType>Normal</tickerType>
    <comps>
      <li Class="CompProperties_Explosive">
        <explosiveRadius>1</explosiveRadius>
        <explosiveDamageType>Smoke</explosiveDamageType>
        <requiredDamageTypeToExplode>Flame</requiredDamageTypeToExplode>
        <postExplosionSpawnThingDef>SM_Gas_Tear</postExplosionSpawnThingDef>
        <postExplosionSpawnChance>1.0</postExplosionSpawnChance>
        <explosiveExpandPerStackcount>.5</explosiveExpandPerStackcount>
      </li>
    </comps>
    <stackLimit>100</stackLimit>
    <statBases>
      <MaxHitPoints>100</MaxHitPoints>
      <MarketValue>6</MarketValue>
      <Mass>0.02</Mass>
      <Flammability>0.6</Flammability>
    </statBases>
    <costList>
      <Neutroamine>1</Neutroamine>
    </costList>
    <recipeMaker>
      <workAmount>1000</workAmount>
      <effectWorking>Cook</effectWorking>
      <workSpeedStat>DrugSynthesisSpeed</workSpeedStat>
      <workSkill>Intellectual</workSkill>
      <recipeUsers>
        <li>DrugLab</li>
      </recipeUsers>
      <researchPrerequisite>DrugProduction</researchPrerequisite>
      <skillRequirements>
				<Crafting>6</Crafting>
        <Intellectual>6</Intellectual>
      </skillRequirements>
    </recipeMaker>
    <thingCategories>
      <li>Manufactured</li>
    </thingCategories>
  </ThingDef>
 
   <ThingDef ParentName="MoteBase" Name="SM_Mote_Gas_Tear">
    <defName>SM_Mote_Gas_Tear</defName>
    <graphicData>
      <texPath>Things/Gas/Puff</texPath>
      <shaderType>MoteGlow</shaderType>
      <drawSize>2</drawSize>
      <color>(1.0,1.0,0.0,0.25)</color>
    </graphicData>
    <altitudeLayer>MoteOverhead</altitudeLayer>
    <mote>
      <fadeInTime>0.75</fadeInTime>
      <solidTime>0.75</solidTime>
      <fadeOutTime>0.75</fadeOutTime>
    </mote>
  </ThingDef>
  
  <ThingDef ParentName="BaseGas">
    <thingClass>Submunition.Gas_Toxic</thingClass>
    <defName>SM_Gas_Tear</defName>
    <label>tear gas</label>
    <graphicData>
      <texPath>Things/Gas/Puff</texPath>
      <drawSize>1</drawSize>
      <color>(1.0,1.0,0.0,0.25)</color>
    </graphicData>
    <gas>
      <expireSeconds>
        <min>60</min>
        <max>90</max>
      </expireSeconds>
      <blockTurretTracking>false</blockTurretTracking>
      <accuracyPenalty>0</accuracyPenalty>
      <rotationSpeed>20</rotationSpeed>
    </gas>
    <modExtensions>
      <li Class="Submunition.DefToxicGasExtension">
        <toxicGasHediffChance>1</toxicGasHediffChance>
        <toxicGasHediffStrength>0.1</toxicGasHediffStrength>
        <toxicGasHediffToAdd>SM_Teargas</toxicGasHediffToAdd>
        <toxicGasWholeBody>true</toxicGasWholeBody>
        <toxicGasHediffResist>ToxicSensitivity</toxicGasHediffResist>
        <toxicGasMote>SM_Mote_Gas_Tear</toxicGasMote>
        <toxicGasMoteRate>100</toxicGasMoteRate>
      </li>
    </modExtensions>
  </ThingDef>

  <ThingDef ParentName="MakeableShellBase">
    <defName>SM_Shell_Tear_Gas</defName>
    <label>tear gas shell</label>
    <description>A mortar shell loaded with tear gas pellets</description>
    <graphicData>
      <texPath>Submunition/Item/SM_Shell_Tear_Gas</texPath>
      <graphicClass>Graphic_StackCount</graphicClass>
    </graphicData>
    <comps>
      <li Class="CompProperties_Explosive">
        <explosiveRadius>4</explosiveRadius>
        <explosiveDamageType>Smoke</explosiveDamageType>
        <postExplosionSpawnThingDef>SM_Gas_Tear</postExplosionSpawnThingDef>
        <postExplosionSpawnChance>1.0</postExplosionSpawnChance>
        <explosiveExpandPerStackcount>4</explosiveExpandPerStackcount>
        <startWickHitPointsPercent>0.7</startWickHitPointsPercent>
        <wickTicks>
          <min>5</min>
          <max>10</max>
        </wickTicks>
      </li>
    </comps>
    <projectileWhenLoaded>SM_Bullet_Shell_Tear_Gas</projectileWhenLoaded>
    <costList>
      <Steel>20</Steel>
      <Chemfuel>20</Chemfuel>
      <SM_partTearGas>10</SM_partTearGas>
    </costList>
    <recipeMaker>
      <workAmount>4000</workAmount>
      <researchPrerequisite>Submunitions</researchPrerequisite>
      <skillRequirements>
        <Crafting>6</Crafting>
        <Intellectual>6</Intellectual>
      </skillRequirements>
    </recipeMaker>
    <statBases>
      <MaxHitPoints>60</MaxHitPoints>
      <MarketValue>130</MarketValue>
      <Mass>10</Mass>
    </statBases>
  </ThingDef>
  <ThingDef ParentName="BaseBullet">
    <defName>SM_Bullet_Shell_Tear_Gas</defName>
    <label>tear gas shell</label>
    <graphicData>
      <texPath>Submunition/Item/Bullet_Shell_Tear_Gas</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <shaderType>TransparentPostLight</shaderType>
    </graphicData>
    <thingClass>Projectile_Explosive</thingClass>
    <projectile>
      <damageDef>SM_Danger_Smoke</damageDef>
      <damageAmountBase>0</damageAmountBase>
      <speed>41</speed>
      <explosionRadius>10</explosionRadius>
      <postExplosionSpawnThingDef>SM_Gas_Tear</postExplosionSpawnThingDef>
      <postExplosionSpawnChance>1.0</postExplosionSpawnChance>
      <flyOverhead>true</flyOverhead>
      <soundHitThickRoof>Artillery_HitThickRoof</soundHitThickRoof>
      <soundExplode>Explosion_Smoke</soundExplode>
      <soundImpactAnticipate>MortarRound_PreImpact</soundImpactAnticipate>
      <soundAmbient>MortarRound_Ambient</soundAmbient>
      <ai_IsIncendiary>true</ai_IsIncendiary>
    </projectile>
  </ThingDef>

  <ThingDef ParentName="TrapIEDBase">
    <defName>SM_TrapIED_Tear_Gas</defName>
    <label>Tear Gas IED trap</label>
    <description>A pair of tear gas shells connected to a touch-activated trigger. Since it is hidden in the surrounding terrain, it cannot be placed adjacent to other traps. Animals can sense these when calm.</description>
    <graphicData>
      <texPath>Submunition/Item/IED_Tear</texPath>
    </graphicData>
    <costList>
      <SM_Shell_Tear_Gas>2</SM_Shell_Tear_Gas>
    </costList>
    <comps>
      <li Class="CompProperties_Explosive">
        <explosiveDamageType>Smoke</explosiveDamageType>
        <damageAmountBase>0</damageAmountBase>
        <explosiveRadius>20</explosiveRadius>
        <postExplosionSpawnThingDef>SM_Gas_Tear</postExplosionSpawnThingDef>
        <postExplosionSpawnChance>1.0</postExplosionSpawnChance>
        <startWickHitPointsPercent>0.2</startWickHitPointsPercent>
        <wickTicks>
          <min>15</min>
          <max>15</max>
        </wickTicks>
      </li>
    </comps>
    <specialDisplayRadius>20</specialDisplayRadius>
  </ThingDef>  
  
	<ThingDef ParentName="BaseMakeableGrenade">
		<defName>SM_Weapon_Grenade_Tear_Gas</defName>
		<label>tear gas grenades</label>
		<description>Tear gas grenades. They can be thrown a short distance, where they'll explode, dispersing a cloud of tear gas.</description>
    <tickerType>Normal</tickerType>
		<graphicData>
			<texPath>Submunition/Item/SM_Weapon_Grenade_Tear_Gas</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<soundInteract>Interact_Grenade</soundInteract>
		<techLevel>Industrial</techLevel>
		<statBases>
			<Mass>1</Mass>
			<RangedWeapon_Cooldown>2.66</RangedWeapon_Cooldown>
      <WorkToMake>40000</WorkToMake>
    </statBases>
    <costList>
      <Steel>20</Steel>
      <Chemfuel>20</Chemfuel>
      <SM_partTearGas>80</SM_partTearGas>
    </costList>
    <recipeMaker>
      <researchPrerequisite>Submunitions</researchPrerequisite>
      <skillRequirements>
        <Crafting>6</Crafting>
        <Intellectual>6</Intellectual>
      </skillRequirements>
    </recipeMaker>
    <weaponTags>
      <li>GrenadeDestructive</li>
    </weaponTags>
		<thingCategories>
			<li>Grenades</li>
		</thingCategories>
		<verbs>
			<li>
				<label>throw tear gas grenade</label>
				<verbClass>Verb_LaunchProjectile</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<range>12.9</range>
				<forcedMissRadius>1.9</forcedMissRadius>
				<warmupTime>1.5</warmupTime>
				<noiseRadius>4</noiseRadius>
				<ai_IsBuildingDestroyer>false</ai_IsBuildingDestroyer>
				<soundCast>ThrowGrenade</soundCast>
				<targetParams>
					<canTargetLocations>true</canTargetLocations>
				</targetParams>
				<defaultProjectile>SM_Proj_Grenade_Tear_Gas</defaultProjectile>
        <rangedFireRulepack>Combat_RangedFire_Thrown</rangedFireRulepack>
			</li>
		</verbs>
    <comps>
      <li Class="CompProperties_Explosive">
        <explosiveRadius>4</explosiveRadius>
        <explosiveDamageType>Smoke</explosiveDamageType>
        <requiredDamageTypeToExplode>Flame</requiredDamageTypeToExplode>
        <postExplosionSpawnThingDef>SM_Gas_Tear</postExplosionSpawnThingDef>
        <postExplosionSpawnChance>1.0</postExplosionSpawnChance>
      </li>
    </comps>
	</ThingDef>
	<ThingDef ParentName="BaseGrenadeProjectile">
		<defName>SM_Proj_Grenade_Tear_Gas</defName>
		<label>tear gas grenade</label>
		<thingClass>Projectile_Explosive</thingClass>
		<graphicData>
			<texPath>Submunition/Item/Proj_Grenade_Tear_Gas</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<projectile>
      <!-- Use default damage from explosion def -->
			<explosionDelay>10</explosionDelay>
      <damageDef>Smoke</damageDef>
      <damageAmountBase>0</damageAmountBase>
      <explosionRadius>4</explosionRadius>
      <postExplosionSpawnThingDef>SM_Gas_Tear</postExplosionSpawnThingDef>
      <postExplosionSpawnChance>1.0</postExplosionSpawnChance>
		</projectile>
	</ThingDef>
  
</Defs>